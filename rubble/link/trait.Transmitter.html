<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Trait for Link Layer packet transmission."><title>Transmitter in rubble::link - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-ba5701c5741a7b69.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="rubble" data-themes="" data-resource-suffix="" data-rustdoc-version="1.71.0-nightly (a368898de 2023-05-02)" data-search-js="search-618e954b235f6acc.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-6f6ffb5395b17c6e.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../../static.files/storage-62ce34ea385b278a.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-f0540c1d82cde29b.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../rubble/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../rubble/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Transmitter</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.transmit_advertising">transmit_advertising</a></li><li><a href="#tymethod.transmit_data">transmit_data</a></li><li><a href="#tymethod.tx_payload_buf">tx_payload_buf</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In rubble::link</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../index.html">rubble</a>::<wbr><a href="index.html">link</a>::<wbr><a class="trait" href="#">Transmitter</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/rubble/link/mod.rs.html#557-605">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait Transmitter {
    // Required methods
    fn <a href="#tymethod.tx_payload_buf" class="fn">tx_payload_buf</a>(&amp;mut self) -&gt; &amp;mut [<a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.u8.html">u8</a>];
<span class="item-spacer"></span>    fn <a href="#tymethod.transmit_advertising" class="fn">transmit_advertising</a>(
        &amp;mut self,
        header: <a class="struct" href="advertising/struct.Header.html" title="struct rubble::link::advertising::Header">Header</a>,
        channel: <a class="struct" href="../phy/struct.AdvertisingChannel.html" title="struct rubble::phy::AdvertisingChannel">AdvertisingChannel</a>
    );
<span class="item-spacer"></span>    fn <a href="#tymethod.transmit_data" class="fn">transmit_data</a>(
        &amp;mut self,
        access_address: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.u32.html">u32</a>,
        crc_iv: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.u32.html">u32</a>,
        header: <a class="struct" href="data/struct.Header.html" title="struct rubble::link::data::Header">Header</a>,
        channel: <a class="struct" href="../phy/struct.DataChannel.html" title="struct rubble::phy::DataChannel">DataChannel</a>
    );
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Trait for Link Layer packet transmission.</p>
<p>The specifics of sending a Link-Layer packet depend on the underlying hardware. The <code>link</code>
module provides building blocks that enable implementations without any BLE hardware support,
just a compatible radio is needed.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.tx_payload_buf" class="method"><a class="srclink rightside" href="../../src/rubble/link/mod.rs.html#570">source</a><h4 class="code-header">fn <a href="#tymethod.tx_payload_buf" class="fn">tx_payload_buf</a>(&amp;mut self) -&gt; &amp;mut [<a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.u8.html">u8</a>]</h4></section></summary><div class="docblock"><p>Get a reference to the Transmitter’s PDU payload buffer.</p>
<p>The buffer must hold at least 37 Bytes, as that is the maximum length of advertising channel
payloads. While data channel payloads can be up to 251 Bytes in length (resulting in a
“length” field of 255 with the MIC), devices are allowed to use smaller buffers and report
the supported payload length.</p>
<p>Both advertising and data channel packets also use an additional 2-Byte header preceding
this payload.</p>
<p>This buffer must not be changed. The BLE stack relies on the buffer to retain its old
contents after transmitting a packet. A separate buffer must be used for received packets.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.transmit_advertising" class="method"><a class="srclink rightside" href="../../src/rubble/link/mod.rs.html#585">source</a><h4 class="code-header">fn <a href="#tymethod.transmit_advertising" class="fn">transmit_advertising</a>(&amp;mut self, header: <a class="struct" href="advertising/struct.Header.html" title="struct rubble::link::advertising::Header">Header</a>, channel: <a class="struct" href="../phy/struct.AdvertisingChannel.html" title="struct rubble::phy::AdvertisingChannel">AdvertisingChannel</a>)</h4></section></summary><div class="docblock"><p>Transmit an Advertising Channel PDU.</p>
<p>For Advertising Channel PDUs, the CRC initialization value is always <code>CRC_PRESET</code>, and the
Access Address is always <code>ADVERTISING_ADDRESS</code>.</p>
<p>The implementor is expected to send the preamble and access address, and assemble the rest
of the packet, and must apply data whitening and do the CRC calculation. The inter-frame
spacing also has to be upheld by the implementor (<code>T_IFS</code>).</p>
<h5 id="parameters"><a href="#parameters">Parameters</a></h5>
<ul>
<li><code>header</code>: Advertising Channel PDU Header to prepend to the Payload in <code>payload_buf()</code>.</li>
<li><code>channel</code>: Advertising Channel Index to transmit on.</li>
</ul>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.transmit_data" class="method"><a class="srclink rightside" href="../../src/rubble/link/mod.rs.html#598-604">source</a><h4 class="code-header">fn <a href="#tymethod.transmit_data" class="fn">transmit_data</a>(
    &amp;mut self,
    access_address: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.u32.html">u32</a>,
    crc_iv: <a class="primitive" href="https://doc.rust-lang.org/nightly/core/primitive.u32.html">u32</a>,
    header: <a class="struct" href="data/struct.Header.html" title="struct rubble::link::data::Header">Header</a>,
    channel: <a class="struct" href="../phy/struct.DataChannel.html" title="struct rubble::phy::DataChannel">DataChannel</a>
)</h4></section></summary><div class="docblock"><p>Transmit a Data Channel PDU.</p>
<p>The implementor is expected to send the preamble and assemble the rest of the packet, and
must apply data whitening and do the CRC calculation.</p>
<h5 id="parameters-1"><a href="#parameters-1">Parameters</a></h5>
<ul>
<li><code>access_address</code>: The Access Address of the Link-Layer packet.</li>
<li><code>crc_iv</code>: CRC calculation initial value (<code>CRC_PRESET</code> for advertising channel).</li>
<li><code>header</code>: Data Channel PDU Header to be prepended to the Payload in <code>payload_buf()</code>.</li>
<li><code>channel</code>: Data Channel Index to transmit on.</li>
</ul>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../../implementors/rubble/link/trait.Transmitter.js" async></script></section></div></main></body></html>